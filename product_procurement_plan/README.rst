============================
Product Procurement Planning
============================

.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-qrtl%2Fpci--custom-lightgray.png?logo=github
    :target: https://github.com/qrtl/pci-custom/tree/10.0/product_procurement_plan
    :alt: qrtl/pci-custom

|badge1| |badge2| |badge3| 

This module does the following:

* Adds fields in the product model.

  * Average Qty (Calculated)
  * Average Qty (Manual)
  * Average Qty (Adjusted)
  * Lead Time (Calculated)
  * Lead Time (Manual)
  * Lead Time (Adjusted)
  * Suggested Stock Quantity
  * Variance

* Adds a menu item to open a wizard to run procurement info update.
* Adds a menu item to show product with procurement info in list view.
  (*Inventory > Inventory Control > Product Proc. Info*)

The goal of this module is to facilitate the procurement decision making by calculating
the suggested stock quantity (based on the past transactions and the relevant master
settings) and the variance from the current on-hand stock the incoming qty.

Average Quantity Calculation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The average quantity calculation is done based on number of top-node products shipped
to the customer in a given period. The program first identifies the top-node products
for the selected products (based on the BOM structure), summarizes the shipped
quantities, and then calculates the used quantities of the components (based on the
BOM structure).

Procurement Lead Time Calculation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The procurement lead time of each product is calculated with the following strategy.

* Purchased products: Based on the actual lead time from the purchase order confirmation
  to the receipt (for physical products) or to the vendor bill (for services) for the
  given period.
* Manufactured products: Manufacturing Lead Time of the product + procurement lead time
  of the components (pick the longest lead time at each node to accumulate).

Suggested Stock Quantity and Variance
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* Suggested Stock Quantity = Average Qty (Adj) * Lead Time (Adj)
* Variance = Quantity On Hand + Incoming - Suggested Stock Quantity

**Table of contents**

.. contents::
   :local:

Configuration
=============

Go to the inventory configuration and adjust following fields accordingly.

* Allow manual adjustments to needed quantities (Product Proc. Info): The optional
  fields in product master should show if this field is selected.
* Number of months to consider in Product Proc. Info Update: The number set here will
  be the default value of the corresponding field in Product Proc. Info Update.

Usage
=====

Take following steps to update procurement info of the product:

#. Open a product variant list view and select the target products.
#. Follow *Action > Product Proc. Info Update* to open the wizard.
#. Adjust parameters and click 'Run Update'.

To view the procurement info, go to *Inventory > Inventory Control > Product Proc. Info*.
This screen lets you edit Average Qty (Manual) and/or Lead Time (Manual).

Known issues / Roadmap
======================

* Make designs/behaviors around Average Aty (Manual) and Lead Time (Manual) consistent.
  Currently Average Aty (Manual) is used in the calculation of procurement info update
  wizard, while Lead Time (Manual) is not.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/qrtl/pci-custom/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us smashing it by providing a detailed and welcomed
`feedback <https://github.com/qrtl/pci-custom/issues/new?body=module:%20product_procurement_plan%0Aversion:%2010.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* Quartile Limited

Maintainers
~~~~~~~~~~~

This module is part of the `qrtl/pci-custom <https://github.com/qrtl/pci-custom/tree/10.0/product_procurement_plan>`_ project on GitHub.

You are welcome to contribute.
